<div class="container">
  <div *ngIf="loading" class="loading"><div class="spinner"></div>
  <p>Cargando resultados...</p></div>
  <div *ngIf="error" class="error">{{error}}</div>

  <div *ngIf="!loading && !error">
    <h1>¿Qué auto quieres alquilar?</h1>
    <div *ngFor="let category of groupByCategory() | keyvalue" class="category">
      <h2>{{category.key}}</h2>
      <div class="gallery">
        <div *ngFor="let vehicle of category.value" class="card vehicle" (click)="navigateToDetail(vehicle.OptionId)">
          <img [src]="vehicle.Vehicle.Image" [alt]="vehicle.Vehicle.Model"   onerror="this.src='https://img.freepik.com/fotos-premium/representacion-3d-automovil-generico-marca-entorno-estudio-blanco_101266-12914.jpg';"/>
          <div class="vehicleDesc">
            <h4>{{vehicle.Vehicle.Model}}</h4>
            <p>Proveedor: {{vehicle.Company.Name}}</p>
            <p>Precio: {{formatPrice(vehicle.Rates?.[0])}}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>