<div class="container">
  <div *ngIf="loading" class="loading">Cargando resultados...</div>
  <div *ngIf="error" class="error">{{error}}</div>

  <div *ngIf="!loading && !error">
    <div *ngFor="let category of groupByCategory() | keyvalue" class="category">
      <h3>{{category.key}}</h3>
      <div class="gallery">
        <div *ngFor="let vehicle of category.value" class="card" (click)="navigateToDetail(vehicle.OptionId)">
          <img [src]="vehicle.Vehicle.Image" [alt]="vehicle.Vehicle.Model">
          <h4>{{vehicle.Vehicle.Model}}</h4>
          <p>Proveedor: {{vehicle.Company.Name}}</p>
          <p>Precio: {{formatPrice(vehicle.Rates?.[0])}}</p>
        </div>
      </div>
    </div>
  </div>
</div>